<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yoro Oy - Kirjautuminen / Login</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <link rel="stylesheet" href="./styles.css">
    <script defer src="./firebaseConfig.js"></script>
    <script defer src="./auth.js"></script>
</head>
<body>
    <!-- Language toggle -->
    <div class="language-toggle">
        <button onclick="setLanguage('fi')" class="lang-btn" id="lang-fi">FI</button>
        <button onclick="setLanguage('en')" class="lang-btn" id="lang-en">EN</button>
    </div>

    <!-- Video background -->
    <video autoplay muted loop class="video-background">
        <source src="/city_2160_24fps.mp4" type="video/mp4">
    </video>

    <div class="container">
        <div class="auth-forms">
            <div class="form-container">
                <h2 data-fi="Rekister√∂idy k√§ytt√§j√§ksi" data-en="Create Account">Rekister√∂idy k√§ytt√§j√§ksi</h2>
                <input type="email" id="registerEmail" data-fi="S√§hk√∂posti" data-en="Email" placeholder="S√§hk√∂posti">
                <div class="password-container">
                    <input type="password" id="registerPassword" data-fi="Salasana" data-en="Password" placeholder="Salasana">
                    <button type="button" class="toggle-password" onclick="togglePassword('registerPassword')">üëÅÔ∏è</button>
                </div>
                <button onclick="registerUser()" class="btn btn-primary" data-fi="Rekister√∂idy" data-en="Register">Rekister√∂idy</button>
            </div>

            <div class="form-container">
                <h2 data-fi="Kirjaudu sis√§√§n" data-en="Sign In">Kirjaudu sis√§√§n</h2>
                <input type="email" id="loginEmail" data-fi="S√§hk√∂posti" data-en="Email" placeholder="S√§hk√∂posti">
                <div class="password-container">
                    <input type="password" id="loginPassword" data-fi="Salasana" data-en="Password" placeholder="Salasana">
                    <button type="button" class="toggle-password" onclick="togglePassword('loginPassword')">üëÅÔ∏è</button>
                </div>
                <button onclick="loginUser()" class="btn btn-primary" data-fi="Kirjaudu" data-en="Sign In">Kirjaudu</button>
                <button onclick="resetPassword()" class="btn btn-secondary" data-fi="Salasana hukassa?" data-en="Forgot password?">Salasana hukassa?</button>
                <a href="/" class="back-link" data-fi="‚Üê Takaisin etusivulle" data-en="‚Üê Back to homepage">‚Üê Takaisin etusivulle</a>
            </div>
        </div>
    </div>

    <script>
        // Language functionality
        let currentLanguage = 'fi';

        function setLanguage(lang) {
            currentLanguage = lang;
            localStorage.setItem('preferredLanguage', lang);
            
            // Update language buttons
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById('lang-' + lang).classList.add('active');
            
            // Update all texts
            document.querySelectorAll('[data-fi][data-en]').forEach(element => {
                const text = element.getAttribute('data-' + lang);
                if (element.tagName === 'INPUT') {
                    element.placeholder = text;
                } else {
                    element.textContent = text;
                }
            });
            
            // Update HTML lang attribute
            document.documentElement.lang = lang;
        }

        // Initialize language on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedLang = localStorage.getItem('preferredLanguage') || 'fi';
            setLanguage(savedLang);
        });
    </script>
</body>
</html>
